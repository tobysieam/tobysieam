# 项目报告（草稿）

包含 PSP 表格、设计说明、性能分析、测试用例等。

## PSP 估时

- 设计：1h
- 实现生成器：3h
- 实现判分：2h
- 测试与文档：2h

## 设计概要

- 组件：`generator.py`（生成器与表达式树）、`utils.py`（解析与判分）、`main.py`（CLI）、`tests/`（单元测试）
- 数据结构：表达式以树表示（类 `Expr`），叶子是 `Fraction`，内部节点为运算符和两子树。
- 去重策略：对每个节点生成 `canonical()` 字符串；对于 `+` 和 `*` 节点，canonical 允许交换左右子树（即取两种排列的字典序最小），但不做平展或跨节点重排。该策略可以识别题目示例中的重复（例如 `(1+2)+3` 与 `3+(2+1)`），同时避免将不同结合次序的不等价表达式错误合并。

## 测试用例（至少 10 个）

我在 `test_cases.txt` 中列出了 12 个示例用例，包含：
- 简单整数：`4 - 0 =` → `4`
- 真分数相加：`1/6 + 1/8 =` → `7/24`
- 带分数输出：`(7/4 + 1/2) =` → `2'1/4`（例）
- 除法为真分数：`1/2 / 3/4 =` → `2/3`
- 减法不负：`(3/5 * 1) - 1/3 =`
- 嵌套括号与乘除：`((3/4 / 5/6) / 8) + 4/7 =`
- 含 0 的情形：`0 / 5/6 =`
- 大量题目生成及去重的压力测试

（详见 `test_cases.txt`）

## 性能基线

我提供了 `perf_test.py` 来测量生成 N 道题目的耗时（默认 N=1000）。运行后会在终端打印耗时并把结果追加到 `report.md`。

Perf: Generated 100 in 0.011s

Perf: Generated 1000 in 0.133s

Perf: Generated 5000 in 0.635s

Perf: Generated 10000 in 1.593s
